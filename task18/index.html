<!DOCTYPE>
<html>
<head>
    <meta charset="utf-8">
    <title>IFE JavaScript Task 18</title>
    <style>
    li{
		display:inline-block;
		background-color:red;
		color:#FFF;
		padding:5px;
		margin:5px;
		}
    </style>
</head>
<body>
<input type="text" id="inputbox"/>
<button id="leftin">左侧入</button>
<button id="rightin">右侧入</button>
<button id="leftout">左侧出</button>
<button id="rightout">右侧出</button>
<br/>
<ul id="list">
</ul>
<script>
	//考虑到下一个任务有排序,则使用数组存放数据,使用字符串刷新的方式更新数据
	var data=[];//定义存放数据的数组
	var str="";//定义更新UL的字符串
	var container=document.getElementById("list");
	//数据更新函数
	function updata(){
		str="";
		for(i=0;i<=data.length-1;i++){
			str=str+"<li"+" id='li-"+i+"'>"+data[i]+"</li>";
		}
		container.innerHTML=str;
		document.getElementById("inputbox").value="";
	}
	//时间绑定与处理
	var lin=document.getElementById("leftin").onclick=function(){
			var input=document.getElementById("inputbox").value.trim();
			if(input==""){alert("输入不合法");return ;}
			if(isNaN(input)){alert("输入不合法");return ;}		
			data.splice(0,0,input);
			//可用data.unshift(input);
			updata();
		}
	var rin=document.getElementById("rightin").onclick=function(){
			var input=document.getElementById("inputbox").value.trim();
			if(input==""){alert("输入不合法");return ;}
			if(isNaN(input)){alert("输入不合法");return ;}
			data.push(input);
			updata();
		}
	var rout=document.getElementById("rightout").onclick=function(){
			var input=document.getElementById("inputbox").value.trim();		
			alert(data.pop());
			updata();
		};
	var lout=document.getElementById("leftout").onclick=function(){
			var input=document.getElementById("inputbox").value.trim();		
			alert(data.splice(0,1));
			updata();
		};

	//下面是点击删除的代码
	container.addEventListener("click",function(e) {
		liid = parseInt(e.target.getAttribute("id").substr(3));
		console.log(liid);
		data.splice(liid,1);
		updata();
	});
</script>
</body>
</html>
